<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>11</title>
	<style>
		*{margin:0px;padding:0px;}
		#canvas1{border:1px solid gray;}
	</style>
</head>
<body>
	<p><canvas id="canvas1" width="400" height="500"></canvas></p>
	<p>
		<input type="range" id="input1" max="100" step="10"> 		<input type="color" id="input2">
	</p>
	<p id="pos1">座標</p>

	<script>

		//道具箱(cは道具箱とだけ認識してください)
		var c=document.getElementById("canvas1").getContext("2d");

		//初期値設定
		var x=0;							//座標xの設定
		var y=0;							//座標yの設定
		var size=50;					//図形の大きさ
		var draw=false;				//描画の可否

		//イベント設定（〜したら〜する）
		document.getElementById("canvas1").addEventListener(
			"mousemove",move1
		);
		document.getElementById("canvas1").addEventListener(
			"mousedown",down1
		);
		document.getElementById("canvas1").addEventListener(
			"mouseup",up1
		);

		//関数設定（move1,down1,up1の動作を設定）
		function move1(e){
			x = Math.floor(e.clientX/size)*size;
			y = Math.floor(e.clientY/size)*size;
			size = document.getElementById("input1").value;
			color = document.getElementById("input2").value;
			if(draw===true){
				c.fillStyle=color;
				c.fillRect(x,y,size,size);
			}
			
			document.getElementById("pos1").innerHTML = "x=" +x+ " y="+y;
		}

		function down1(){draw=true;}
		function up1(){draw=false;}
	
	</script>
</body>
</html>